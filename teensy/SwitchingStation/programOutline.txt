#include <hardwareIncludes>
#include <obc_receive/send, PDU_rec/send, piSqauredC>

void setup { 

/* ---- collection class to store packets ---- */ 
struct Packet { 
	/* ----- enums will represent cases ----- */ 
	enum PacketType { health_pkt, adcs_pkt, position_pkt, payload_pkt }; 	

	/* ---- data storage ---- */ 
	
	//TMP
	float obcTmp;
	float pduTmp;

	//GPS
	float latitude;
	float longitude; 
	float speed; 
 
	//IMU
	float gyro;		
	float acceleration; 

	//payload	
	File image = pic_jpg.readPicure; 	//store an image (psuedo code) 
		
	///MORE INFORMATION TO STORE...
	/* ---- constructor / destructor ---- */ 


} //end of class
} //end of setup 

void loop{

	radio.Receive() //listen for commands 
	delay(90) 
	PacketType packetType = radio_in[0] ///get packetType from command
		

	/* ---- decide what packet to send ---- */ 
	switch( packetType ){ 
		case poistion_pkt:
			Packet packetZero ( adcsData, imuData, gpsData );
			break;
		default:
			Packet packetOne ( tmpData, batteryData, time ); 
		//in this method I'm instantiating classes in the switch 
		statement but maybe I should instantiate them before hand 
		and populate them during the switch statement. 
	}
	
	//CONVERT PACKET TO JSON 
	//SEND PACKET TO RADIO 
	//DESTRUCT CLASS
	//RETURN TO TOP	

}

/* ---- notes ---- */ 
Needs fail safes so that if it gets stuck it will move on at a certain time.
Should send default packet every 3 (for example) hours. This will simplify things on the ground.
should receive encoded packets (so only we can send commands) but send unencodedpackets so anyone can decode. 






///notes:
talked to eric and he said that structs were better to use than object because they are easier to turn into a vector of bytes (which is our end goal for transmission). 
